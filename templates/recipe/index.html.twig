{% extends 'base.html.twig' %}

{% block title %}Hello RecipeController!
{% endblock %}

{% block javascripts %}

{% endblock %}

{% block body %}
	<main>
		<!-- Recipes Section  -->
		<section class="row mx-2">
			<div class="col-6 col-md-4 ">
				{{ form_start(filterForm, {'attr': {'novalidate': 'novalidate'}}, {'method': 'POST'}) }}
				<div class="input-group rounded row-auto">
				<div class="mb-0">
					{{ form_widget(filterForm, {'attr': {'class': 'rounded my-3 h-100'}}) }}
				</div>
					<span class="input-group-text border-0 p-0 my-3" id="search-addon">
						<button type="submit" class="mymenu_button btn h-100">
							<i class="fas fa-search"></i>
						</button>
					</span>
				</div>
				{{ form_end(filterForm) }}

				{{ form_start(categoryFilterForm, {'attr': {'novalidate': 'novalidate'}}) }}
				<div class="form-group col-md-6 col-12">
					{{ form_widget(categoryFilterForm, {'attr': {'class': 'rounded my-3 h-100'}}) }}
				</div>
				<button type="submit" class="mymenu_button btn ">Valider</button>
				{{ form_end(categoryFilterForm) }}


				<button type="button" class="mymenu_button btn btn-dark my-4 col-md-6" data-toggle="modal" data-target="#myModal">Ajouter une recette</button>
			</div>
			<div class="col-12 col-md-8 order-md-first">
				{% for recipe in pagination %}
					<div class="card mx-auto my-4 col-8">
						<div class="row g-0">
							<div class="col-md-4">
								<img src="{{ asset('images/img_recipe.jpg') }}" class="img-fluid rounded-start h-100" alt="...">
							</div>
							<div class="col-md-8">
								<div class="card-body d-flex flex-column justify-content-between h-100">
									<h3 class="mymenu_card-title">{{ recipe.name }}</h3>
									<p class="card-text">{{ recipe.description|slice(0, 150) }}...</p>
									<p class="card-text">
										<small class="text-body-secondary">
											<a class="link-secondary link-underline link-underline-opacity-0 p-0" href="recette.html">Click pour voir !</a>
										</small>
									</p>
								</div>
							</div>
						</div>
					</div>
				{% endfor %}

			</section>

			<!-- Modal add recette -->
			<div class="modal modal-xl" id="myModal">
				<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="btn btn-secondary close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
							<h4 class="modal-title mymenu_title" id="myModalLabel">Ajoute Une Nouvelle Recette</h4>
						</div>
						<div class="modal-body">
							<form class="mymenu_add-recipe">
								<div class="row">
									<div class="col-md-12">

										<div class="form-group my-2">
											<label for="f1" class="form-label">Nom de la recette</label>
											<input type="email" class="form-control" id="f1" placeholder="Nom de la recette">
										</div>
										<div class="form-group my-2">
											<label for="f2" class="form-label">Description</label>
											<textarea class="form-control" id="f2" rows="3"></textarea>
										</div>
										<div class="mb-3">
											<label for="formFile" class="form-label">Ajouter une image</label>
											<input class="form-control" type="file" id="formFile">
										</div>
										<div class="form-group my-2">
											<label for="exampleFormControlSelect1">Nombre de personnes</label>
											<input type="number" id="personnes" name="personnes" min="1" max="20" value="2">
										</div>
										<div class="form-group my-2">
											<label for="addIngredient">Ajouter un ingredient</label>
											<div class="input-group rounded">
												<input type="search" id="form1" class="form-control" placeholder="Exp Oeufs" aria-label="Search"/>
												<span class="input-group-text border-0" id="f4">
													<button type="submit" class="btn">
														<i class="fas fa-solid fa-plus"></i>
													</button>
												</span>
											</div>

											<ul class="my-2">
												<li>ingredient 1</li>
												<li>ingredient 2</li>
											</ul>

										</div>
										<div class="form-group my-2">
											<label for="f3" class="form-label">Ajouter une etape</label>
											<textarea class="form-control" id="f3" rows="3"></textarea>
											<span class="input-group-text border-0" id="f5">
												<button type="submit" class="btn">
													<i class="fas fa-solid fa-plus"></i>
												</button>
											</span>

											<ul class="my-2">
												<li>
													1. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dignissimos totam minima corrupti ducimus illum obcaecati.
												</li>
												<li>
													2. Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus optio beatae magnam soluta qui atque neque fuga.
												</li>
											</ul>
										</div>
										<div class="form-group">
											<label for="exampleFormControlSelect1">Ajouter une categorie</label>
											<select class="form-control" id="f6">
												<option>-</option>
												<option>Salade</option>
												<option>Pâtes</option>
												<option>Viande</option>
												<option>Poisson</option>
											</select>
										</div>
										<div class="form-group my-2">
											<label for="addIngredient">Ou créer une nouvelle categorie et la ajouter</label>
											<div class="input-group rounded">
												<input type="search" id="form7" class="form-control" placeholder="Exp Salade" aria-label="Search"/>
												<span class="input-group-text border-0" id="f7">
													<button type="submit" class="btn">
														<i class="fas fa-solid fa-plus"></i>
													</button>
												</span>
											</div>
										</div>
										<ul class="my-2">
											<li>categorie 1</li>
											<li>categorie 2</li>
										</ul>
									</div>
								</div>
							</form>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
							<button type="button" class="btn  mymenu_button" id="addConfirm">Valider</button>
						</div>
					</div>
				</div>
			</div>


			{# PAGINATION #}
			<div class="d-flex justify-content-center mt-3">
				{{ knp_pagination_render(pagination)}}
			</div>

		</main>
	{% endblock %}
